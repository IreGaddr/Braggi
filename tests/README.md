# Braggi Compiler Testing System

This directory contains the test files and expected outputs for the Braggi compiler.

## Test Files

The test files are written in the Braggi language and are used to test various features of the compiler:

- `simple_test.bg`: A simple "Hello, World!" program
- `function_test.bg`: Tests function definitions and calls
- `control_flow_test.bg`: Tests control flow statements (if/else, loops)
- `variable_test.bg`: Tests variable declarations and assignments
- `type_system_test.bg`: Tests the type system
- `regime_test.bg`: Tests regime-specific features
- `custom_regime_test.bg`: Tests custom regime definitions
- `region_test.bg`: Tests region-specific features
- `periscope_test.bg`: Tests periscope functionality
- `stdlib_test.bg`: Tests standard library functions
- `data_processing_test.bg`: Tests data processing operations
- `error_cases_test.bg`: Tests error handling

## Expected Outputs

The `expected_outputs` directory contains the expected assembly code output for each test file. These files are used to verify that the compiler is generating the correct code.

## Running Tests

There are several scripts available to run the tests:

### Run All Tests

```bash
./scripts/run_tests.sh
```

This script runs all the tests and verifies that the compiler generates the expected output.

### Run a Single Test

```bash
./scripts/run_single_test.sh <test_name>
```

Example:
```bash
./scripts/run_single_test.sh simple_test
```

This script runs a single test and verifies that the compiler generates the expected output.

### Assemble and Run a Test

```bash
./scripts/assemble_and_run.sh <output_file>
```

Example:
```bash
./scripts/assemble_and_run.sh build/test_outputs/simple_test.out
```

This script takes a compiler output file (assembly code), assembles it into an executable, and runs it.

### Run All Tests and Execute the Outputs

```bash
./scripts/run_and_execute_all_tests.sh
```

This script runs all the tests, generates the assembly output files, and then executes each output file.

## Adding New Tests

To add a new test:

1. Create a new `.bg` file in the `tests` directory
2. Run the test using `./scripts/run_single_test.sh <test_name>`
3. Verify that the output is correct
4. Create an expected output file in the `tests/expected_outputs` directory

## Troubleshooting

If a test fails, check the following:

1. Make sure the test file is valid Braggi code
2. Make sure the expected output file exists and is correct
3. Check the compiler output for errors
4. Try running the test with the `--verbose` flag for more information

## Notes

- The assembly code generated by the compiler is in Intel syntax for x86_64 architecture
- The assembly code is not directly executable; it needs to be assembled and linked first
- The `assemble_and_run.sh` script handles the assembly and linking process

Y'all come back now, ya hear? ðŸ¤  